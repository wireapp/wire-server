defaults: 
  local: ../../hpack-defaults.yaml
name: bonanza
version: '3.6.0'
synopsis: Log Processing.
description: Parsing, transforming, and forwarding of log data.
category: Network
author: Wire Swiss GmbH
maintainer: Wire Swiss GmbH <backend@wire.com>
license: AGPL-3
ghc-options: -Wall
dependencies:
- bytestring
- conduit
- conduit-extra
- imports
- text
library:
  source-dirs: src
  ghc-options:
  - -funbox-small-strict-fields
  - -fno-warn-unused-do-bind
  exposed-modules:
  - Bonanza.Anon
  - Bonanza.App
  - Bonanza.Geo
  - Bonanza.Metrics
  - Bonanza.Parser.CommonLog
  - Bonanza.Parser.IP
  - Bonanza.Parser.Internal
  - Bonanza.Parser.Journald
  - Bonanza.Parser.Netstrings
  - Bonanza.Parser.Nginz
  - Bonanza.Parser.Rkt
  - Bonanza.Parser.Socklog
  - Bonanza.Parser.Svlogd
  - Bonanza.Parser.Time
  - Bonanza.Parser.Tinylog
  - Bonanza.Streaming.Binary
  - Bonanza.Streaming.Kibana
  - Bonanza.Streaming.Parser
  - Bonanza.Streaming.Protobuf
  - Bonanza.Streaming.Snappy
  - Bonanza.Types
  dependencies:
  - base ==4.*
  - aeson >=1.0
  - attoparsec >=0.10
  - base16-bytestring >=0.1.1.6 && <0.2
  - base64-bytestring ==1.0.*
  - bifunctors
  - binary
  - bytestring-conversion
  - cereal
  - cereal-conduit
  - collectd
  - containers
  - ekg-core
  - exceptions
  - hs-GeoIP ==0.3.*
  - http-client
  - http-types
  - lens
  - lens-aeson
  - mtl
  - network
  - optparse-applicative >=0.11
  - protobuf >=0.2.1.1
  - scientific
  - snappy
  - snappy-framing
  - time >=1.5 && <1.9
  - types-common >=0.14.1
  - unordered-containers
  - vector
  - resourcet
executables:
  bonanza:
    main: main/Main.hs
    ghc-options:
    - -O2
    - -funbox-small-strict-fields
    - -fno-warn-unused-do-bind
    - -threaded
    - -rtsopts
    - -with-rtsopts=-T
    - -with-rtsopts=-N
    dependencies:
    - base ==4.*
    - bonanza
  kibana-raw:
    main: main/KibanaRaw.hs
    ghc-options:
    - -O2
    - -funbox-small-strict-fields
    - -rtsopts
    dependencies:
    - aeson >=1.0
    - base
    - clock
    - cryptonite
    - optparse-applicative
    - time
  kibanana:
    main: main/Kibanana.hs
    ghc-options:
    - -O2
    - -funbox-small-strict-fields
    - -fno-warn-unused-do-bind
    - -threaded
    - -rtsopts
    - -with-rtsopts=-T
    - -with-rtsopts=-N
    dependencies:
    - async
    - base
    - containers
    - errors
    - http-client >=0.4.18 && <5
    - http-conduit
    - http-client-tls
    - optparse-applicative
    - stm
tests:
  bonanza-tests:
    main: Main.hs
    source-dirs: test/unit
    ghc-options:
    - -threaded
    - -with-rtsopts=-N
    dependencies:
    - aeson
    - attoparsec
    - base
    - bonanza
    - http-types
    - lens
    - QuickCheck
    - scientific
    - tasty
    - tasty-quickcheck
    - time
    - vector
