resolver: snapshots/wire-2.0.yaml
compiler: ghc-8.6.5

packages:
- libs/api-bot
- libs/api-client
- libs/bilge
- libs/brig-types
- libs/cargohold-types
- libs/cassandra-util
- libs/extended
- libs/galley-types
- libs/gundeck-types
- libs/imports
- libs/metrics-collectd
- libs/metrics-core
- libs/metrics-wai
- libs/ropes
- libs/sodium-crypto-sign
- libs/ssl-util
- libs/tasty-cannon
- libs/types-common
- libs/types-common-aws
- libs/types-common-journal
- libs/wai-utilities
- libs/zauth
- services/brig
- services/cannon
- services/cargohold
- services/galley
- services/gundeck
- services/proxy
- services/spar
- tools/api-simulations
- tools/bonanza
- tools/db/auto-whitelist
- tools/db/migrate-sso-feature-flag
- tools/db/service-backfill
- tools/makedeb
- tools/stern

extra-deps:
- servant-swagger-1.1.7.1
- swagger2-2.5
- git: https://github.com/fimad/prometheus-haskell
  commit: 2e3282e5fb27ba8d989c271a0a989823fad7ec43
  subdirs:
  - wai-middleware-prometheus
  # wai-middleware-prometheus can be pulled from hackage once the
  # a version > 1.0.0 of wai-middleware-prometheus is available
  # (required: https://github.com/fimad/prometheus-haskell/pull/45)
- git: https://github.com/wireapp/saml2-web-sso
  commit: 813b50c9241e0084db2bd3a7b275c6496d40cc86 # No PR yet, test failing
- git: https://github.com/wireapp/hscim
  # commit: 37d4e2ede83267e2fc9ccca87403751566ebed19    # master (Jan 7, 2020)
  commit: 0378b87d2b05b84bf9adf55e1b0d8a61dd51cf3e  # PR: https://github.com/wireapp/hscim/pull/37
- stm-containers-0.2.16
- focus-0.1.5.2

flags:
  types-common:
    cql: true
    protobuf: true
    arbitrary: true

  galley-types:
    cql: true

  brig-types:
    cql: true

allow-newer: false

nix:
  shell-file: stack-deps.nix
