Migrate the internal API of Cannon to Servant.
